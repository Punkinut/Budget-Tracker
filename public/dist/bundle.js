(()=>{var t,e=[];function n(){var t=e.reduce((function(t,e){return t+parseInt(e.value)}),0);document.querySelector("#total").textContent=t}function o(){var t=document.querySelector("#tbody");t.innerHTML="",e.forEach((function(e){var n=document.createElement("tr");n.innerHTML="\n      <td>".concat(e.name,"</td>\n      <td>").concat(e.value,"</td>\n    "),t.appendChild(n)}))}function a(){var n=e.slice().reverse(),o=0,a=n.map((function(t){var e=new Date(t.date);return"".concat(e.getDate()," | ").concat(e.getMonth()+1," ")})),r=n.map((function(t){return o+=parseInt(t.value)}));t&&t.destroy();var c=document.getElementById("myChart").getContext("2d");t=new Chart(c,{type:"line",data:{labels:a,datasets:[{backgroundColor:"rgba(255, 255, 255, 0.144)",borderColor:"white",pointBackgroundColor:"white",data:r,pointRadius:7,pointHoverRadius:7}]},options:{legend:{display:!1},tooltips:{enabled:!0},scales:{yAxes:[{ticks:{display:!1},gridLines:{color:"rgba(0, 0, 0, 0)"}}],xAxes:[{ticks:{display:!1},gridLines:{color:"rgba(0, 0, 0, 0)"}}]}}})}function r(t){var r=document.querySelector("#t-name"),c=document.querySelector("#t-amount"),i=document.querySelector(".form .error");if(""!==r.value&&""!==c.value){i.textContent="";var u={name:r.value,value:c.value,date:(new Date).toISOString()};t||(u.value*=-1),e.unshift(u),a(),o(),n(),fetch("/api/transaction",{method:"POST",body:JSON.stringify(u),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){t.errors?i.textContent="Missing Information":(r.value="",c.value="")})).catch((function(t){saveRecord(u),r.value="",c.value=""}))}else i.textContent="Missing Information"}fetch("/api/transaction").then((function(t){return t.json()})).then((function(t){e=t,n(),o(),a()})),document.querySelector("#add-btn").onclick=function(){r(!0)},document.querySelector("#sub-btn").onclick=function(){r(!1)}})();