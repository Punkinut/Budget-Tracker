(()=>{var e,t=[];function n(){var e=t.reduce((function(e,t){return e+parseInt(t.value)}),0);document.querySelector("#total").textContent=e}function a(){var e=$(".left");e.text("");var n=$(".right");n.text("");var a=document.querySelector("#tbody");a.innerHTML="",t.forEach((function(t){var o=document.createElement("p");o.innerHTML="".concat(t.name),e.append(o);var r=document.createElement("p");if(t.value<0){var c=t.value.toString();r.innerHTML="- $".concat(c.slice(1)),n.append(r)}else r.innerHTML="$".concat(t.value),n.append(r);var i=document.createElement("tr");i.innerHTML="\n      <td>".concat(t.name,"</td>\n      <td>").concat(t.value,"</td>\n    "),a.appendChild(i)}))}function o(){var n=t.slice().reverse(),a=0,o=n.map((function(e){var t=new Date(e.date);return"".concat(t.getDate()," | ").concat(t.getMonth()+1," ")})),r=n.map((function(e){return a+=parseInt(e.value)}));e&&e.destroy();var c=document.getElementById("myChart").getContext("2d");e=new Chart(c,{type:"line",data:{labels:o,datasets:[{backgroundColor:"rgba(255, 255, 255, 0.144)",borderColor:"white",pointBackgroundColor:"white",data:r,pointRadius:7,pointHoverRadius:7}]},options:{layout:{padding:{left:-10,bottom:-10}},legend:{display:!1},tooltips:{enabled:!0},scales:{yAxes:[{ticks:{display:!1},gridLines:{color:"rgba(0, 0, 0, 0)"}}],xAxes:[{ticks:{display:!1},gridLines:{color:"rgba(0, 0, 0, 0)"}}]}}})}function r(e){var r=document.querySelector("#t-name"),c=document.querySelector("#t-amount"),i=document.querySelector(".form .error");if(""!==r.value&&""!==c.value){i.textContent="";var u={name:r.value,value:c.value,date:(new Date).toISOString()};e||(u.value*=-1),t.unshift(u),o(),a(),n(),fetch("/api/transaction",{method:"POST",body:JSON.stringify(u),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.errors?i.textContent="Missing Information":(r.value="",c.value="")})).catch((function(e){saveRecord(u),r.value="",c.value=""}))}else i.textContent="Missing Information"}fetch("/api/transaction").then((function(e){return e.json()})).then((function(e){t=e,n(),a(),o()})),document.querySelector("#add-btn").onclick=function(){r(!0)},document.querySelector("#sub-btn").onclick=function(){r(!1)}})();